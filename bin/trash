#!/usr/bin/env bash
#
# Script Name: /Users/jcriner/bin/trash
# Original source: https://codeberg.org/EvanHahn/dotfiles
# Date: 2025-10-23
#
# Moves file to system trash. Behavior varies based on OS.

set -e
set -u
set -o pipefail

if [[ "$(uname)" == 'Darwin' ]]; then
  # Heavily modified from [this script][0], licensed under the MIT License.
  # [0]: https://github.com/morgant/tools-osx/blob/71c2db389c48cee8d03931eeb083cfc68158f7ed/src/trash#L293-L311
  for arg in "$@"; do
    file="$(realpath "$arg")"
    /usr/bin/osascript -e "tell application \"Finder\" to delete POSIX file \"$file\"" > /dev/null
  done
else
  gio trash "$@"
fi
